<script>
(() => {
  // ... 기존 코드 유지 ...

  /**
   * 초기화 함수: 초기값 설정, 베드 생성, 이벤트 등록, URL 파라미터 로드 등
   */
  const init = () => {
    // ... 기존 초기화 코드 유지 ...

    // ▶▶▶ 추가된 부분 시작 ▶▶▶
    // 드롭다운 변경 이벤트 리스너
    typeSelect.addEventListener('change', () => {
      document.querySelectorAll('.input-numbers').forEach(input => {
        calculateResults(input);
        updateAverage();
      });
      mainTitle.textContent = `${typeSelect.options[typeSelect.selectedIndex].text.split(' ')[0]} FUEL SHIM 계산`;
    });
    // ▶▶▶ 추가된 부분 끝 ▶▶▶

    // ... 나머지 초기화 코드 유지 ...
  };

  document.addEventListener('DOMContentLoaded', init);
})();
</script>